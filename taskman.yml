globals:
    env:
        FOO: BAR

commands:
    foo:foo:
        - ls -la
        - { task: "mkdir", dir: "foo" }
        - ls -la
        - { task: "run", command: "foo:remove" }
    foo:remove:
        - rm -rf foo
        - ls -la
    test:global-env:
        preconditions: test $FOO = BAR
        tasks:
            - echo "FOO === BAR"
            - echo $LOCAL
    test:local-env:
        env:
            LOCAL: LOCAL is a local environment variable
        tasks:
            - echo "FOO === BAR"
            - echo $LOCAL
